<!-- Image Map Generated by http://www.image-map.net/ -->
<style>
    img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 0 auto;
    }
    body {
        margin: 0;
        padding: 0;
    }
    .container {
        position: relative;
        width: fit-content;
        margin: 0 auto;
    }
    .hover-overlay {
        position: absolute;
        background-color: rgba(128, 128, 128, 0.1); /* translucent gray */
        pointer-events: none; /* allows clicks to pass through to the area beneath */
        display: none;
    }
    area {
        cursor: pointer;
    }
    /* Disable the default tooltips */
    area[title] {
        pointer-events: all;
    }
    area[title]:hover::after {
        display: none;
    }
</style>
<div class="container">
    <img src="imgs/shelf.jpeg" usemap="#image-map" id="bookshelf-img">
    <div id="hover-overlay" class="hover-overlay"></div>
</div>

<map name="image-map">
    <area target="" alt="" title="" href="https://www.amazon.com/Simulation-Its-Discontents-Simplicity-Technology/dp/0262012707" coords="2454,2125,712,1946" shape="rect" class="map-area">
    <area target="" alt="" title="" href="https://en.wikipedia.org/wiki/The_Oregon_Experiment" coords="685,2135,2454,2274" shape="rect" class="map-area">
    <area target="" alt="" title="" href="https://press.uchicago.edu/ucp/books/book/chicago/S/bo14720714.html" coords="541,2285,2585,2546" shape="rect" class="map-area">
    <area target="" alt="" title="" href="https://direct.mit.edu/books/monograph/5791/Building-SimCityHow-to-Put-the-World-in-a-Machine" coords="546,2565,2512,2747" shape="rect" class="map-area">
    <area target="" alt="" title="" href="https://oroeditions.com/product/emergent-tokyo" coords="605,2749,2406,2875" shape="rect" class="map-area">
    <area target="" alt="" title="" href="https://www.kitchenartsandletters.com/products/cooks-tour-a-global-adventures-in-extreme-cuisines-p" coords="605,2883,2339,3025" shape="rect" class="map-area">
    <area target="" alt="" title="" href="https://www.amazon.com/Topeka-School-Novel-Ben-Lerner/dp/0374277788" coords="624,3043,2392,3204" shape="rect" class="map-area">
    <area target="" alt="" title="" href="https://www.edwardtufte.com/book/envisioning-information/" coords="354,3217,2606,3335" shape="rect" class="map-area">
    <area target="" alt="" title="" href="https://thenewpress.com/books/studs-terkels-working-0" coords="407,3353,2571,3482" shape="rect" class="map-area">
</map>

<script>
    // Store the original coordinates with descriptive names
    const originalCoords = {
        simulationAndDiscontents: "2454,2125,712,1946",
        oregonExperiment: "685,2135,2454,2274",
        streetfightHandbook: "541,2285,2585,2546",
        buildingSimCity: "546,2565,2512,2747",
        emergentTokyo: "605,2749,2406,2875",
        cooksTour: "605,2883,2339,3025",
        topekaSchool: "624,3043,2392,3204",
        envisioningInformation: "354,3217,2606,3335",
        studsWorking: "407,3353,2571,3482"
    };

    function updateImageMap() {
        const img = document.getElementById('bookshelf-img');
        const areas = document.getElementsByClassName('map-area');
        
        // Calculate scale factor based on current image width vs original width
        const scaleFactor = img.width / img.naturalWidth;
        
        // Update coordinates for each area
        const coordNames = Object.keys(originalCoords);
        Array.from(areas).forEach((area, index) => {
            const coords = originalCoords[coordNames[index]].split(',');
            const scaledCoords = coords.map(coord => Math.round(coord * scaleFactor));
            area.coords = scaledCoords.join(',');
        });
    }

    // Handle hover effects
    function setupHoverEffects() {
        const overlay = document.getElementById('hover-overlay');
        const areas = document.getElementsByClassName('map-area');
        
        Array.from(areas).forEach(area => {
            area.addEventListener('mouseenter', () => {
                const coords = area.coords.split(',');
                const [x1, y1, x2, y2] = coords.map(Number);
                
                // Position and size the overlay
                overlay.style.left = Math.min(x1, x2) + 'px';
                overlay.style.top = Math.min(y1, y2) + 'px';
                overlay.style.width = Math.abs(x2 - x1) + 'px';
                overlay.style.height = Math.abs(y2 - y1) + 'px';
                overlay.style.display = 'block';
            });

            area.addEventListener('mouseleave', () => {
                overlay.style.display = 'none';
            });
        });
    }

    // Update coordinates when image loads
    document.getElementById('bookshelf-img').onload = () => {
        updateImageMap();
        setupHoverEffects();
    };
    
    // Update coordinates when window resizes
    window.addEventListener('resize', () => {
        updateImageMap();
        setupHoverEffects();
    });
</script>